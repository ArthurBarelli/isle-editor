// MODULES //

import radium from 'radium';
import React, { PropTypes } from 'react';
import ReactDOM from 'react-dom';
import styles from 'styles';


// REACT COMPONENTS //

import Expire from 'general/expire';


// FEEDBACK RESPONSE //

class FeedbackResponse extends React.Component {
	/*
	* Invoked once on client after the initial rendering.
	* Handles fade-in animation.
	*/
	componentDidMount() {
		const elem = ReactDOM.findDOMNode( this );
		elem.style.opacity = 0;
		window.requestAnimationFrame( () => {
			// Set a transition on the opacity:
			elem.style.transition = 'opacity 250ms';
			elem.style.opacity = 1;
		});
	}

	/*
	* React component render method.
	*/
	render() {
		return (
			<Expire delay="2000">
				<div className="feedbackResponse" style={[ styles.response, { top: this.props.top } ]}>
					<p style={styles.responseParagraph}>{this.props.text}</p>
				</div>
			</Expire>
		);
	}
}


// PROPERTY TYPES //

FeedbackResponse.propTypes = {
	text: PropTypes.string,
	top: PropTypes.number
};


// EXPORTS //

export default radium( FeedbackResponse );
